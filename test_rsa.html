<!DOCTYPE html>
<html lang="en">
<head>
<title>RSA-test1 = OKEH!</title>
<script>
function modInverse(d, M) {
  // var d, M;
  // M = 392; d = 27;
  if (M==null) M=3000;
  var A = M;  var b = d;  var q = 0;
  //var remns = [d]; // 2)
  var remns = [M]; // 1)
  var quots = [0];
  for (i = 1; i < 100; i++) {
    r = parseInt(A % b);
    if (r > 1) {
      q = parseInt(A / b);
      //remns[i] = r; quots[i] = q; // 2)
      remns[i] = b; quots[i] = q; // 1)
      A = b; b = r;
    }
    else {
      if (r == 0) {
          //remns[i] = r + ':ERR!' ; quots[i] = q;     // 2)
          //remns[i+1] = 0; quots[i+1] = r + ':ERR!' ; //2)
          remns[i] = b; quots[i] = q;                // 1)
          remns[i+1] = r + ':ERR!' ; quots[i+1] = b; // 1)
        }
      else
      {
        //remns[i] = r; quots[i] = q;     // 2)
        //remns[i+1] = 0; quots[i+1] = r; //2)
        remns[i] = b; quots[i] = q;     // 1)
        remns[i+1] = r; quots[i+1] = b; // 1)
      }
      break;
    }
  }
  // if (r != 1) return;
  S1 = 'd: ' + d +', (mod ' + 'M: ' + M + ')\n\n';
  S1 = S1 + 'step' + '\t' + 'r' + '\t' + 'q' + '\n';
  for (i=0; i<remns.length; i++) {
    S1 = S1 + (i+1) + '.\t' + remns[i] + '\t' + quots[i] + '\n';
  }
  //alert(S1);
  S1 = '<pre><font size=+0>' + S1 + '</font></pre>';
  dumpLog('log', S1);
}

function dumpLog(id, S) { document.getElementById(id).innerHTML = S; }
function getnVal(id) { val=document.getElementById(id).value; return parseInt(val); }

</script>
</head>
<body>
<div>
Modulus: <input id="Mod1" value="3000" size="5"> |
Value: <input id="Val1" value="197" type=text size="3"><button onClick="modInverse(getnVal('Val1'), getnVal('Mod1'));">Calc</button> |
Value: <input id="Val11" value="211" type=text size="3"><button onClick="modInverse(getnVal('Val11'), getnVal('Mod1'));">Calc</button> |
Value: <input id="Val12" value="221" type=text size="3"><button onClick="modInverse(getnVal('Val12'), getnVal('Mod1'));">Calc</button> |
Value: <input id="Val13" value="2113" type=text size="3"><button onClick="modInverse(getnVal('Val13'), getnVal('Mod1'));">Calc</button> |
</div>
<div>
Modulus: <input id="Mod2" value="3000" size="5"> |
Value: <input id="Val2" value="121" type=text size="3"><button onClick="modInverse(getnVal('Val2'), getnVal('Mod2'));">Calc</button> |
Value: <input id="Val21" value="127" type=text size="3"><button onClick="modInverse(getnVal('Val21'), getnVal('Mod2'));">Calc</button> |
Value: <input id="Val22" value="417" type=text size="3"><button onClick="modInverse(getnVal('Val22'), getnVal('Mod2'));">Calc</button> |
Value: <input id="Val23" value="471" type=text size="3"><button onClick="modInverse(getnVal('Val23'), getnVal('Mod2'));">Calc</button> |
</div>
<hr>
<div id="log"></div>
</body>


